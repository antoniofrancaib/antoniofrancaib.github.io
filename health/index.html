<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Dashboard - Antonio Franca</title>
    <link rel="icon" type="image/png" href="../assets/images/favicon.png">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/components.css">

    <!-- JavaScript modules -->
    <script src="js/config.js"></script>
    <script src="js/services/supabase.js"></script>
    <script src="js/features/nutrition.js"></script>
    <script src="js/components/modals.js"></script>
    <script src="js/components/dashboard.js"></script>
    <script src="js/features/food.js"></script>
    <script src="js/features/sleep.js"></script>
    <script src="js/features/body.js"></script>
    <script src="js/features/mind.js"></script>
    <script src="js/features/blood.js"></script>
    <script src="js/utils/validation.js"></script>
    <script src="js/app.js"></script>
</head>
<body>
    <div class="health-container">
        <!-- Header -->
        <div class="header">
            <h1 class="site-title"><a href="/">Antonio Franca</a></h1>
        </div>

        <!-- Tabs Navigation -->
        <div class="tabs-container">
            <div class="tabs">
                <div class="tab active" data-tab="overview">
                    <i data-lucide="home" class="tab-icon"></i>
                    <span class="tab-label">Overview</span>
                </div>
                <div class="tab" data-tab="food">
                    <i data-lucide="utensils" class="tab-icon"></i>
                    <span class="tab-label">Food</span>
                </div>
                <div class="tab" data-tab="sleep">
                    <i data-lucide="moon" class="tab-icon"></i>
                    <span class="tab-label">Sleep</span>
                </div>
                <div class="tab" data-tab="body">
                    <i data-lucide="dumbbell" class="tab-icon"></i>
                    <span class="tab-label">Body</span>
                </div>
                <div class="tab" data-tab="mind">
                    <i data-lucide="brain" class="tab-icon"></i>
                    <span class="tab-label">Mind</span>
                </div>
                <div class="tab" data-tab="blood">
                    <i data-lucide="droplet" class="tab-icon"></i>
                    <span class="tab-label">Blood</span>
                </div>
            </div>
        </div>

        <!-- Overview Tab -->
        <div class="content active" id="overview-content">
            <div class="card">
                <div class="dashboard-header">
                    <div>
                        <h3 class="dashboard-title">Today's Wellness</h3>
                        <p class="dashboard-date" id="overview-today-date">November 9, 2024</p>
                    </div>
                </div>

                <!-- Wellness Triad -->
                <div class="wellness-triad">
                    <div class="wellness-metric">
                        <div class="wellness-icon">‚ö°</div>
                        <div class="wellness-label">Energy</div>
                        <div class="wellness-value" id="energy-value">7</div>
                        <div class="wellness-scale">
                            <div class="wellness-bar">
                                <div class="wellness-fill energy-fill" style="width: 70%"></div>
                            </div>
                            <div class="wellness-range">1-10</div>
                        </div>
                    </div>

                    <div class="wellness-metric">
                        <div class="wellness-icon">üôÇ</div>
                        <div class="wellness-label">Mood</div>
                        <div class="wellness-value" id="mood-value">8</div>
                        <div class="wellness-scale">
                            <div class="wellness-bar">
                                <div class="wellness-fill mood-fill" style="width: 80%"></div>
                            </div>
                            <div class="wellness-range">1-10</div>
                        </div>
                    </div>

                    <div class="wellness-metric">
                        <div class="wellness-icon">üëÅÔ∏è</div>
                        <div class="wellness-label">Clarity</div>
                        <div class="wellness-value" id="clarity-value">5</div>
                        <div class="wellness-scale">
                            <div class="wellness-bar">
                                <div class="wellness-fill clarity-fill" style="width: 50%"></div>
                            </div>
                            <div class="wellness-range">1-10</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Causality Insights -->
            <div class="card" style="margin-top: 32px;">
                <h3 class="dashboard-title" style="margin-bottom: 20px;">Causality & Insights</h3>

                <div class="insights-section">
                    <div class="insight-card">
                        <div class="insight-icon">üìâ</div>
                        <div class="insight-content">
                            <div class="insight-title">Low Clarity Detected</div>
                            <div class="insight-description">Potential cause: High Screen Time (6h) yesterday</div>
                        </div>
                    </div>

                    <div class="correlation-matrix" style="margin-top: 24px;">
                        <h4 style="font-size: 16px; font-weight: 500; margin-bottom: 16px; color: var(--text-primary);">30-Day Correlations</h4>
                        <div class="correlation-grid">
                            <div class="correlation-item">
                                <span class="correlation-label">Sleep ‚Üí Energy</span>
                                <span class="correlation-value positive">+0.72</span>
                            </div>
                            <div class="correlation-item">
                                <span class="correlation-label">Protein ‚Üí Mood</span>
                                <span class="correlation-value positive">+0.58</span>
                            </div>
                            <div class="correlation-item">
                                <span class="correlation-label">Screen Time ‚Üí Clarity</span>
                                <span class="correlation-value negative">-0.65</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="protocols-link-wrapper">
                <a class="protocols-link" href="https://www.notion.so/Health-Protocols-Overview-2c6e5960818f80f6a8c4e8f4b8a8f4a5?source=copy_link" target="_blank" rel="noopener noreferrer">
                    <i data-lucide="book-open" style="width: 14px; height: 14px;"></i>
                    <span>View Health Protocols</span>
                </a>
            </div>
        </div>

        <!-- Mind Tab -->
        <div class="content" id="mind-content">
            <div class="card">
                <div class="mind-header">
                    <h3 class="dashboard-title">Cognitive Load</h3>
                </div>

                <div class="mind-grid">
                    <div class="mind-metric">
                        <div class="metric-header">
                            <span class="metric-label">Deep Work</span>
                        </div>
                        <div class="metric-current" id="deepwork-current">4h 12m</div>
                        <div class="metric-target">Goal: 5h</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="deepwork-progress" style="width: 82.4%"></div>
                        </div>
                    </div>

                    <div class="mind-metric">
                        <div class="metric-header">
                            <span class="metric-label">Screen Time</span>
                        </div>
                        <div class="metric-current" id="screentime-current">3h 05m</div>
                        <div class="metric-target">Limit: 4h</div>
                        <div class="progress-bar">
                            <div class="progress-fill warning" id="screentime-progress" style="width: 76.25%"></div>
                        </div>
                    </div>

                    <div class="mind-metric">
                        <div class="metric-header">
                            <span class="metric-label">Focus Ratio</span>
                        </div>
                        <div class="metric-current" id="focusratio-current">58%</div>
                        <div class="metric-target">Target: >70%</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="focusratio-progress" style="width: 58%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card" style="margin-top: 32px;">
                <h3 class="dashboard-title" style="margin-bottom: 20px;">Mental State</h3>

                <div class="mental-state">
                    <div class="mental-metric">
                        <div class="mental-label">Social Battery</div>
                        <div class="mental-value">73%</div>
                        <div class="mental-bar">
                            <div class="mental-fill" style="width: 73%"></div>
                        </div>
                    </div>
                </div>

                <div class="table-container" style="margin-top: 32px;">
                    <table>
                        <thead>
                            <tr>
                                <th>DATE</th>
                                <th>ACTIVITY</th>
                                <th>DURATION</th>
                                <th>CONTEXT</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Nov 9, 2024</td>
                                <td>Writing Article</td>
                                <td>2h 30m</td>
                                <td>Deep Work</td>
                            </tr>
                            <tr>
                                <td>Nov 9, 2024</td>
                                <td>Code Review</td>
                                <td>1h 45m</td>
                                <td>Deep Work</td>
                            </tr>
                            <tr>
                                <td>Nov 8, 2024</td>
                                <td>Meditation</td>
                                <td>20m</td>
                                <td>Recovery</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="protocols-link-wrapper">
                <a class="protocols-link" href="https://www.notion.so/Cognitive-Protocols-2c6e5960818f80a8a8c4e8f4b8a8f4a5?source=copy_link" target="_blank" rel="noopener noreferrer">
                    <i data-lucide="book-open" style="width: 14px; height: 14px;"></i>
                    <span>View Cognitive Protocols</span>
                </a>
            </div>
        </div>

        <!-- Blood Tab -->
        <div class="content" id="blood-content">
            <div class="card">
                <button class="upload-button" id="upload-btn">
                    <i data-lucide="plus" style="width: 16px; height: 16px;"></i>
                    Upload Results
                </button>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>BIOMARKER</th>
                                <th>May 01, 2024</th>
                                <th>May 08, 2025</th>
                                <th>Aug 23, 2025</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="biomarker-label">Blood Sugar</div>
                                    <span class="biomarker-unit">(mg/dL)</span>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>78.0</span>
                                    </div>
                                </td>
                                <td>‚Äî</td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>82.0</span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="biomarker-label">Triglycerides</div>
                                    <span class="biomarker-unit">(mg/dL)</span>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>66.0</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">‚ö†Ô∏è</span>
                                        <span>83.0</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>71.0</span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="biomarker-label">HDL Cholesterol</div>
                                    <span class="biomarker-unit">(mg/dL)</span>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">‚ö†Ô∏è</span>
                                        <span>59.0</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>78.5</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>75.0</span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="biomarker-label">LDL Cholesterol</div>
                                    <span class="biomarker-unit">(mg/dL)</span>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">‚ö†Ô∏è</span>
                                        <span>128.0</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>98.0</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>105.0</span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="biomarker-label">Triglycerides/HDL Ratio</div>
                                    <span class="biomarker-unit"></span>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">‚ö†Ô∏è</span>
                                        <span>1.1</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>1.0</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>0.9</span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="biomarker-label">Total Cholesterol</div>
                                    <span class="biomarker-unit">(mg/dL)</span>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>187.0</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>193.0</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>195.0</span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="biomarker-label">Blood Pressure (Systolic)</div>
                                    <span class="biomarker-unit">(mmHg)</span>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>111.0</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>115.0</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>108.0</span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="biomarker-label">Blood Pressure (Diastolic)</div>
                                    <span class="biomarker-unit">(mmHg)</span>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>72.0</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>75.0</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="value-cell">
                                        <span class="emoji">üëç</span>
                                        <span>70.0</span>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="protocols-link-wrapper">
                <a class="protocols-link" href="https://www.notion.so/Blood-Protocols-2c6e5960818f8090983df89692f4f525?source=copy_link" target="_blank" rel="noopener noreferrer">
                    <i data-lucide="book-open" style="width: 14px; height: 14px;"></i>
                    <span>View Blood Protocols</span>
                </a>
            </div>
        </div>

        <!-- Sleep Tab -->
        <div class="content" id="sleep-content">
            <div class="card">
                <div class="sleep-header">
                    <div class="sleep-metrics">
                        <div class="recovery-score">
                            <div class="recovery-label">Recovery Score</div>
                            <div class="recovery-value">87%</div>
                            <div class="recovery-status good">Good</div>
                        </div>
                    </div>
                    <div class="device-badge">
                        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJDMTMuMSAyIDE0IDIuOSAxNCA0VjE4QzE0IDE5LjEgMTMuMSAyMCAxMiAyMEMxMC45IDIwIDEwIDE5LjEgMTAgMThWNFY0QzEwIDIuOSAxMC45IDIgMTIgMlpNMTIgNEMxMi40IDQgMTIgNC40IDEyIDRDMTIgMy42IDEyLjQgNCAxMiA0Wk0xMiAyMEMxMi40IDIwIDEyIDIwLjQgMTIgMjBDMTIgMTkuNiAxMi40IDIwIDEyIDIwWiIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K" alt="WHOOP" class="whoop-icon">
                        <span class="device-label">WHOOP Verified</span>
                    </div>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>DATE</th>
                                <th>TIME ASLEEP</th>
                                <th>EFFICIENCY</th>
                                <th>SCORE</th>
                                <th>HRV</th>
                                <th>RHR</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Aug 26, 2024</td>
                                <td>7h 56m</td>
                                <td>89%</td>
                                <td>95%</td>
                                <td>102</td>
                                <td>41</td>
                            </tr>
                            <tr>
                                <td>Aug 25, 2024</td>
                                <td>7h 55m</td>
                                <td>94%</td>
                                <td>98%</td>
                                <td>108</td>
                                <td>41</td>
                            </tr>
                            <tr>
                                <td>Aug 24, 2024</td>
                                <td>8h 12m</td>
                                <td>87%</td>
                                <td>92%</td>
                                <td>95</td>
                                <td>43</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="protocols-link-wrapper">
                <a class="protocols-link" href="https://www.notion.so/Sleep-Protocol-2c6e5960818f80618a0fc48de1481bd2?source=copy_link" target="_blank" rel="noopener noreferrer">
                    <i data-lucide="book-open" style="width: 14px; height: 14px;"></i>
                    <span>View Sleep Protocols</span>
                </a>
            </div>
        </div>

        <!-- Body Tab -->
        <div class="content" id="body-content">
            <div class="card">
                <!-- Steps Metric -->
                <div class="steps-metric">
                    <div class="steps-header">
                        <span class="steps-label">Daily Steps</span>
                        <div class="steps-value-container">
                            <span class="steps-value" id="steps-current">12,847</span>
                            <span class="steps-goal">/ 10,000</span>
                            <div class="steps-indicator" id="steps-indicator">
                                <span class="steps-check">‚úì</span>
                            </div>
                        </div>
                    </div>
                    <div class="steps-bar">
                        <div class="steps-fill" id="steps-progress" style="width: 128.47%"></div>
                    </div>
                    <div class="steps-status" id="steps-status">Goal exceeded!</div>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>DATE</th>
                                <th>ACTIVITY</th>
                                <th>DURATION</th>
                                <th>CALORIES</th>
                                <th>STRAIN</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Nov 9, 2024</td>
                                <td>üèãÔ∏è Weightlifting</td>
                                <td>55m</td>
                                <td>312</td>
                                <td>14.2</td>
                            </tr>
                            <tr>
                                <td>Nov 9, 2024</td>
                                <td>üèÉ Running</td>
                                <td>22m</td>
                                <td>198</td>
                                <td>16.8</td>
                            </tr>
                            <tr>
                                <td>Nov 8, 2024</td>
                                <td>üèä Swimming</td>
                                <td>45m</td>
                                <td>385</td>
                                <td>12.1</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="protocols-link-wrapper">
                <a class="protocols-link" href="https://www.notion.so/Workout-Protocols-3ad2c0569e56435cb1f32272d5ace599?source=copy_link" target="_blank" rel="noopener noreferrer">
                    <i data-lucide="book-open" style="width: 14px; height: 14px;"></i>
                    <span>View Exercise Protocols</span>
                </a>
            </div>
        </div>

        <!-- Food Tab -->
        <div class="content active" id="food-content">
            <!-- Today's Nutrition Dashboard -->
            <div class="nutrition-dashboard">
                <div class="dashboard-header">
                    <div>
                        <h3 class="dashboard-title">Today's Nutrition</h3>
                        <p class="dashboard-date" id="today-date">November 9, 2024</p>
                    </div>
                    <div class="dashboard-buttons">
                        <a href="recipes.html" class="icon-btn" title="Add Preset Meal">
                            <i data-lucide="book-marked" style="width: 20px; height: 20px;"></i>
                        </a>
                    </div>
                </div>

                <!-- Fasting Window -->
                <div class="fasting-window" style="margin-bottom: 32px;">
                    <div class="fasting-header">
                        <span class="fasting-label">Fasting Window</span>
                        <span class="fasting-status">16h Fast Completed</span>
                    </div>
                    <div class="fasting-timeline">
                        <div class="fasting-bar">
                            <div class="fasting-eating" style="left: 50%; width: 33.3%;"></div>
                        </div>
                        <div class="fasting-times">
                            <span>12 PM</span>
                            <span>8 PM</span>
                        </div>
                    </div>
                </div>

                <div class="nutrition-grid">
                    <div class="nutrition-metric">
                        <div class="metric-header">
                            <span class="metric-label">Calories</span>
                        </div>
                        <div class="metric-current-with-sparkline">
                            <div class="metric-current" id="calories-current">2445</div>
                            <div class="sparkline-container">
                                <svg class="sparkline" viewBox="0 0 80 20">
                                    <path d="M0,15 L10,12 L20,18 L30,8 L40,14 L50,6 L60,16 L70,10 L80,12" stroke="#22c55e" stroke-width="2" fill="none"/>
                                </svg>
                            </div>
                        </div>
                        <div class="metric-target">Goal: 3000 kcal</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="calories-progress" style="width: 81.5%"></div>
                        </div>
                    </div>

                    <div class="nutrition-metric">
                        <div class="metric-header">
                            <span class="metric-label">Protein</span>
                        </div>
                        <div class="metric-current" id="protein-current">128g</div>
                        <div class="metric-target">Goal: 150g</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="protein-progress" style="width: 85.3%"></div>
                        </div>
                    </div>

                    <div class="nutrition-metric">
                        <div class="metric-header">
                            <span class="metric-label">Carbs</span>
                        </div>
                        <div class="metric-current" id="carbs-current">285g</div>
                        <div class="metric-target">Goal: 330g</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="carbs-progress" style="width: 86.4%"></div>
                        </div>
                        <!-- Fiber Sub-Metric -->
                        <div class="fiber-sub-metric">
                            <span class="fiber-label">Fiber</span>
                            <span class="fiber-value" id="fiber-current">24g</span>
                            <span class="fiber-target">/ 30g</span>
                            <div class="fiber-indicator">
                                <span class="fiber-check">‚úì</span>
                            </div>
                        </div>
                    </div>

                    <div class="nutrition-metric">
                        <div class="metric-header">
                            <span class="metric-label">Fat</span>
                        </div>
                        <div class="metric-current" id="fat-current">88g</div>
                        <div class="metric-target">Goal: 110g</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="fat-progress" style="width: 80%"></div>
                        </div>
                    </div>

                    <!-- Modulators Section -->
                    <div class="modulators-section">
                        <div class="modulator-metric">
                            <div class="modulator-label">Sugar</div>
                            <div class="modulator-value" id="sugar-current">12g</div>
                            <div class="modulator-limit">/ 40g</div>
                            <div class="sugar-limit-bar">
                                <div class="sugar-limit-fill" id="sugar-limit-progress" style="width: 30%"></div>
                            </div>
                        </div>

                        <div class="modulator-metric">
                            <div class="modulator-label">Alcohol</div>
                            <div class="alcohol-counter">
                                <span class="alcohol-value" id="alcohol-current">0</span>
                                <span class="alcohol-unit">units</span>
                                <div class="alcohol-warning" id="alcohol-warning" style="display: none;">
                                    <span class="warning-icon">üö©</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Hydration Section -->
                    <div class="hydration-section">
                        <div class="hydration-metric">
                            <div class="hydration-label">Caffeine</div>
                            <div class="hydration-bar">
                                <div class="hydration-fill stimulation" id="caffeine-hydration-progress" style="width: 61.25%"></div>
                            </div>
                            <div class="hydration-value">245mg</div>
                        </div>

                        <div class="hydration-metric">
                            <div class="hydration-label">Water</div>
                            <div class="hydration-bar">
                                <div class="hydration-fill hydration" id="water-progress" style="width: 60%"></div>
                            </div>
                            <div class="hydration-value">1.5L</div>
                        </div>
                    </div>
                </div>

                <div class="meals-list" id="meals-list">
                    <div class="meals-header">Today's Meals</div>
                    <table class="meals-table" id="meals-table">
                        <thead>
                            <tr>
                                <th>MEAL</th>
                                <th>PROTEIN</th>
                                <th>CARBS</th>
                                <th>FAT</th>
                                <th>CALORIES</th>
                                <th style="width: 60px; text-align: right;"> </th>
                            </tr>
                        </thead>
                        <tbody id="meals-tbody">
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Past Nutrition -->
            <div class="card" style="margin-top: 40px;">
                <h3 class="dashboard-title" style="margin-bottom: 16px;">Past's Nutrition</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>DATE</th>
                                <th>CALORIES</th>
                                <th>PROTEIN</th>
                                <th>CARBS</th>
                                <th>FAT</th>
                            </tr>
                        </thead>
                        <tbody id="past-nutrition-tbody">
                            <tr class="past-day-row" data-day-id="nov-9-2024" style="cursor: pointer;">
                                <td>Nov 9, 2024</td>
                                <td>3039 / 3000 kcal</td>
                                <td>167 / 150 g</td>
                                <td>391 / 330 g</td>
                                <td>115 / 110 g</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Nutrition Heatmap -->
            <div class="card" style="margin-top: 32px;">
                <h3 class="dashboard-title" style="margin-bottom: 20px;">Monthly Progress</h3>
                <div class="heatmap-container">
                    <div class="heatmap-header">
                        <span class="heatmap-month">November 2024</span>
                        <div class="heatmap-legend">
                            <div class="legend-item">
                                <div class="legend-color hit-macros"></div>
                                <span>Hit Macros</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color missed-macros"></div>
                                <span>Missed</span>
                            </div>
                        </div>
                    </div>
                    <div class="heatmap-grid">
                        <!-- Days 1-30 -->
                        <div class="heatmap-day missed-macros" data-day="1" title="Nov 1: 2800/3000 kcal">1</div>
                        <div class="heatmap-day hit-macros" data-day="2" title="Nov 2: 3100/3000 kcal">2</div>
                        <div class="heatmap-day hit-macros" data-day="3" title="Nov 3: 3050/3000 kcal">3</div>
                        <div class="heatmap-day missed-macros" data-day="4" title="Nov 4: 2750/3000 kcal">4</div>
                        <div class="heatmap-day hit-macros" data-day="5" title="Nov 5: 3120/3000 kcal">5</div>
                        <div class="heatmap-day hit-macros" data-day="6" title="Nov 6: 2980/3000 kcal">6</div>
                        <div class="heatmap-day missed-macros" data-day="7" title="Nov 7: 2850/3000 kcal">7</div>
                        <div class="heatmap-day hit-macros" data-day="8" title="Nov 8: 3075/3000 kcal">8</div>
                        <div class="heatmap-day hit-macros" data-day="9" title="Nov 9: 3039/3000 kcal">9</div>
                        <div class="heatmap-day hit-macros" data-day="10" title="Nov 10: 2950/3000 kcal">10</div>
                        <div class="heatmap-day missed-macros" data-day="11" title="Nov 11: 2780/3000 kcal">11</div>
                        <div class="heatmap-day hit-macros" data-day="12" title="Nov 12: 3105/3000 kcal">12</div>
                        <div class="heatmap-day hit-macros" data-day="13" title="Nov 13: 3020/3000 kcal">13</div>
                        <div class="heatmap-day missed-macros" data-day="14" title="Nov 14: 2720/3000 kcal">14</div>
                        <div class="heatmap-day hit-macros" data-day="15" title="Nov 15: 3080/3000 kcal">15</div>
                        <div class="heatmap-day hit-macros" data-day="16" title="Nov 16: 2995/3000 kcal">16</div>
                        <div class="heatmap-day missed-macros" data-day="17" title="Nov 17: 2810/3000 kcal">17</div>
                        <div class="heatmap-day hit-macros" data-day="18" title="Nov 18: 3060/3000 kcal">18</div>
                        <div class="heatmap-day hit-macros" data-day="19" title="Nov 19: 3010/3000 kcal">19</div>
                        <div class="heatmap-day hit-macros" data-day="20" title="Nov 20: 2975/3000 kcal">20</div>
                        <div class="heatmap-day missed-macros" data-day="21" title="Nov 21: 2690/3000 kcal">21</div>
                        <div class="heatmap-day hit-macros" data-day="22" title="Nov 22: 3090/3000 kcal">22</div>
                        <div class="heatmap-day hit-macros" data-day="23" title="Nov 23: 3040/3000 kcal">23</div>
                        <div class="heatmap-day missed-macros" data-day="24" title="Nov 24: 2760/3000 kcal">24</div>
                        <div class="heatmap-day hit-macros" data-day="25" title="Nov 25: 3070/3000 kcal">25</div>
                        <div class="heatmap-day hit-macros" data-day="26" title="Nov 26: 2985/3000 kcal">26</div>
                        <div class="heatmap-day missed-macros" data-day="27" title="Nov 27: 2830/3000 kcal">27</div>
                        <div class="heatmap-day hit-macros" data-day="28" title="Nov 28: 3055/3000 kcal">28</div>
                        <div class="heatmap-day hit-macros" data-day="29" title="Nov 29: 3005/3000 kcal">29</div>
                        <div class="heatmap-day missed-macros" data-day="30" title="Nov 30: 2790/3000 kcal">30</div>
                    </div>
                </div>
            </div>

            <div class="protocols-link-wrapper">
                <a class="protocols-link" href="https://www.notion.so/Nutrition-Protocols-446a35efa16e479ebb1d64206d5b94d4?source=copy_link" target="_blank" rel="noopener noreferrer">
                    <i data-lucide="book-open" style="width: 14px; height: 14px;"></i>
                    <span>View Food Protocols</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Upload Modal -->
    <div class="modal-overlay" id="upload-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Upload Results</h3>
                <button class="modal-close" id="modal-close">
                    <i data-lucide="x" style="width: 20px; height: 20px;"></i>
                </button>
            </div>
            <form id="upload-form">
                <div class="form-group">
                    <label class="form-label" for="date-input">Date</label>
                    <input type="date" class="form-input" id="date-input" required>
                    <div class="form-error" id="date-error">Please select a date</div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="biomarker-select">Biomarker</label>
                    <select class="form-select" id="biomarker-select" required>
                        <option value="">Select a biomarker</option>
                        <option value="blood-sugar">Blood Sugar</option>
                        <option value="triglycerides">Triglycerides</option>
                        <option value="hdl">HDL Cholesterol</option>
                        <option value="ldl">LDL Cholesterol</option>
                        <option value="total-cholesterol">Total Cholesterol</option>
                        <option value="blood-pressure-sys">Blood Pressure (Systolic)</option>
                        <option value="blood-pressure-dia">Blood Pressure (Diastolic)</option>
                    </select>
                    <div class="form-error" id="biomarker-error">Please select a biomarker</div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="value-input">Value</label>
                    <input type="number" step="0.1" class="form-input" id="value-input" required placeholder="Enter value">
                    <div class="form-error" id="value-error">Please enter a valid number</div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Meal Modal -->
    <div class="modal-overlay" id="meal-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Add Meal</h3>
                <button class="modal-close" id="meal-modal-close">
                    <i data-lucide="x" style="width: 20px; height: 20px;"></i>
                </button>
            </div>
            <form id="meal-form">
                <div class="meal-form-group">
                    <label class="form-label" for="meal-name-input">Meal Name</label>
                    <input type="text" class="form-input" id="meal-name-input" required placeholder="e.g., Breakfast: Eggs and toast">
                    <div class="form-error" id="meal-name-error">Please enter a meal name</div>
                </div>
                <div class="meal-form-group">
                    <label class="form-label" for="meal-calories-input">Calories (kcal)</label>
                    <input type="number" step="1" class="form-input" id="meal-calories-input" required placeholder="Enter calories">
                    <div class="form-error" id="meal-calories-error">Please enter calories</div>
                </div>
                <div class="meal-form-group">
                    <div class="meal-form-row">
                        <div>
                            <label class="form-label" for="meal-protein-input">Protein (g)</label>
                            <input type="number" step="0.1" class="form-input" id="meal-protein-input" required placeholder="Protein">
                            <div class="form-error" id="meal-protein-error">Required</div>
                        </div>
                        <div>
                            <label class="form-label" for="meal-carbs-input">Carbs (g)</label>
                            <input type="number" step="0.1" class="form-input" id="meal-carbs-input" required placeholder="Carbs">
                            <div class="form-error" id="meal-carbs-error">Required</div>
                        </div>
                        <div>
                            <label class="form-label" for="meal-fat-input">Fat (g)</label>
                            <input type="number" step="0.1" class="form-input" id="meal-fat-input" required placeholder="Fat">
                            <div class="form-error" id="meal-fat-error">Required</div>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="meal-cancel-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Meal</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Camera Upload Modal -->
    <div class="modal-overlay" id="camera-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Upload Meal Photo</h3>
                <button class="modal-close" id="camera-modal-close">
                    <i data-lucide="x" style="width: 20px; height: 20px;"></i>
                </button>
            </div>
            <form id="camera-form">
                <div class="meal-form-group">
                    <label class="form-label" for="meal-photo-input">Select Photo</label>
                    <input type="file" class="form-input" id="meal-photo-input" accept="image/*" required>
                    <div class="form-error" id="photo-error">Please select a photo</div>
                </div>
                <div class="meal-form-group">
                    <p style="font-size: 14px; color: var(--text-tertiary); line-height: 1.7;">
                        Upload a photo of your meal and our AI will analyze it to estimate the nutritional content.
                    </p>
                </div>
                <div id="camera-loading" style="display: none; text-align: center; padding: 20px; color: var(--text-secondary);">
                    <p>Analyzing your meal... This may take a few seconds.</p>
                </div>
                <div id="camera-error" style="display: none; padding: 12px; margin-bottom: 16px; background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 6px; color: #ef4444; font-size: 14px;"></div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="camera-cancel-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary" id="camera-submit-btn">Analyze Photo</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Sync Status Footer -->
    <div class="sync-status-container">
        <div id="sync-status" class="sync-status">
            <div class="sync-dot"></div>
            <span>Auto-synced: 10m ago</span>
        </div>
    </div>
</body>
</html>
